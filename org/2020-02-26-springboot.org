#+TITLE:springboot
#+STARTUP: indent
* 获取resources目录下的template目录的位置
#+BEGIN_SRC java
String path = Thread.currentThread().getContextClassLoader().getResource("").getPath()+"template";
#+END_SRC
* multi-env
** 配置文件
application-dev之类
** 命令
 java -jar  xx.jar --spring.profiles.active=prod
* thin jar
目前没方案，除非完全手动配置，无法动态加载
https://stackoverflow.com/questions/48850628/forcing-including-lib-from-local-repo-into-jar-with-spring-thin-layout
https://github.com/spring-projects/spring-boot/issues/13772
https://www.baeldung.com/spring-boot-thin-jar
* general
java -jar xx.jar --server.port=8080
* exclue config
@Configuration
@EnableAutoConfiguration(exclude = {
        DiskSpaceHealthIndicatorAutoConfiguration.class,
        EurekaClientAutoConfiguration.class,
        FeignAutoConfiguration.class,
        GsonAutoConfiguration.class,
        HealthEndpointAutoConfiguration.class,
        ArchaiusAutoConfiguration.class,
        AuditEventsEndpointAutoConfiguration.class,
        AuditAutoConfiguration.class,
        BusRefreshAutoConfiguration.class,
        DataSourceHealthIndicatorAutoConfiguration.class,
        FeignRibbonClientAutoConfiguration.class,
        EurekaDiscoveryClientConfiguration.class,
        HystrixAutoConfiguration.class,
        KafkaMetricsAutoConfiguration.class,
        LoadBalancerAutoConfiguration.class,
        RibbonAutoConfiguration.class,
        SamplerAutoConfiguration.class,
        SleuthAnnotationAutoConfiguration.class,
        SystemMetricsAutoConfiguration.class,
        ValidationAutoConfiguration.class,
})
@ComponentScan(basePackages = "com.regent.rbp.**.**",
        excludeFilters = {
        @ComponentScan.Filter(type = FilterType.REGEX, pattern = {
                "com.regent.rbp.bill.*",
//                "com.regent.rbp.information.*",
                "com.regent.rbp.promotioncenter.*",
                "com.regent.rbp.system.*",
                "com.regent.rbp.finance.*",
                "com.regent.rbp.common.*(?<!DbServiceImpl)(?<!UserCache)(?<!SystemCommonServiceImpl)$",
                "com.regent.rbp.member.*",
                "com.regent.rbp.activiti.*",
                "com.regent.rbp.demo.*",
                "com.regent.rbp.report.*",
                "com.regent.rbp.file.*",
                "com.regent.rbp.job.*",
                "com.regent.rbp.task.*"
        }),
}

)
public class ExcludeConfig {
}